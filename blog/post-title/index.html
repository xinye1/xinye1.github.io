<!DOCTYPE html>
<html lang="en-GB">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    


    
        <meta name="twitter:card" content="summary"/>
    



<meta name="twitter:title" content="Blogging with Github and Hugo"/>
<meta name="twitter:description" content=""/>
<meta name="twitter:site" content="@xinye"/>



  	<meta property="og:title" content="Blogging with Github and Hugo &middot; Xinye Fiddles" />
  	<meta property="og:site_name" content="Xinye Fiddles" />
  	<meta property="og:url" content="/blog/post-title/" />
    
    
        
    

    
    <meta property="og:description" content="" />
  	<meta property="og:type" content="article" />
    <meta property="og:image" content="/" />
    <meta property="article:published_time" content="2017-03-21T17:25:43Z" />

    
    <meta property="article:tag" content="github" />
    
    <meta property="article:tag" content="hugo" />
    
    <meta property="article:tag" content="shell script:w" />
    
    

    <title>Blogging with Github and Hugo &middot; Xinye Fiddles</title>

    
    <meta name="description" content="" />
    

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/images/favicon.ico">
	  <link rel="apple-touch-icon" href="/images/apple-touch-icon.png" />

    <link rel="stylesheet" type="text/css" href="/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="/css/nav.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400|Inconsolata" />

    

    
      
          <link href="/index.xml" rel="alternate" type="application/rss+xml" title="Xinye Fiddles" />
      
      
    
    <meta name="generator" content="Hugo 0.19" />

    <link rel="canonical" href="/blog/post-title/" />

    
      
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": 
    },
    "author": {
        "@type": "Person",
        "name": ,
        
        "url": ,
        "sameAs": [
            
            
             
             
             
             
             
            
        ]
    },
    "headline": Blogging with Github and Hugo,
    "name": Blogging with Github and Hugo,
    "wordCount": 716,
    "timeRequired": "PT4M",
    "inLanguage": {
      "@type": "Language",
      "alternateName": en
    },
    "url": /blog/post-title/,
    "datePublished": 2017-03-21T17:25Z,
    "dateModified": 2017-03-21T17:25Z,
    
    "keywords": github, hugo, shell script:w,
    "description": ,
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": /blog/post-title/
    }
}
    </script>
    


    

    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-93764648-1', 'auto');
      ga('send', 'pageview');

    </script>
    

    
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        
        
        
    </ul>
    
    
    <a class="subscribe-button icon-feed" href="/index.xml">Subscribe</a>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">




<header class="main-header post-head no-cover">
  <nav class="main-nav clearfix">


  
  
      <a class="menu-button icon-feed" href="/index.xml">&nbsp;&nbsp;Subscribe</a>
  
  </nav>
</header>



<main class="content" role="main">




  <article class="post blog">

    <header class="post-header">
        <h1 class="post-title">Blogging with Github and Hugo</h1>
        <small></small>

        <section class="post-meta">
        
         
          <span class="post-tag small"><a href="/tags/github/">#github</a></span>
         
          <span class="post-tag small"><a href="/tags/hugo/">#hugo</a></span>
         
          <span class="post-tag small"><a href="/tags/shell-scriptw/">#shell script:w</a></span>
         
        </section>
    </header>

    <section class="post-content">
      <!-- BLOGDOWN-HEAD -->
<!-- /BLOGDOWN-HEAD -->

<!-- BLOGDOWN-BODY-BEFORE -->
<!-- /BLOGDOWN-BODY-BEFORE -->
<p>As a fairly late comer at the blogging party, I benefit greatly from others in gaining knowledge to create my own site.</p>
<p>The main documentation I followed while creating this blog is <a href="https://proquestionasker.github.io/">Amber Thomas’</a> post <a href="https://proquestionasker.github.io/blog/Making_Site/">Making a website using Blogdown, Hugo and GitHub pages</a>. It is a well written tutorial that expands on all aspects of the process. It is well worth a read if you are a beginner on Github, website building and theming. I just find it handy that everything is in one place, and often with good reference from other sources.</p>
<p>My attempt at making this blog, however, started further along still with more development on Hugo’s documentation on working with Github, i.e. documented by <a href="https://hjdskes.github.io/">Jente Hidskes</a> in the <a href="https://hjdskes.github.io/blog/update-deploying-hugo-on-personal-gh-pages/">updated post</a> on the original one that Amber referred to. While there is no need to repeat what other people have explained eloquently, I try to point out catchas and slight errors I found in the reference, in the hope that whoever ends up reading this can avoid the many repeats I went through.</p>
<ol style="list-style-type: decimal">
<li><p>The first thing to keep in mind is that, while the process seems complicated at first, pretty much everything is reversible (except any existing blog post content if it’s included inside the website folders, save them somewhere else before you are happy with the website itself). Be brave and work through the steps, if there is a messed-up, the worst possible thing is that you delete the remote and the local repo and start again. Be fearless.</p></li>
<li><p>While setting up Github to work with the local repo, opt straight for the SSH method, no need to dwell on HTTPS. That way you can avoid having to go back and change it when starting to run the Shell script. Another benefit is of course saving your entering the password every time you sync the remote and local repos.</p></li>
<li><p>The <code>blogdown</code> package is brilliant at simplifying steps of generating the basic website, these simple lines below give you a complete set of skeleton website files:</p></li>
</ol>
<p><code>R    install.packages('devtools')    devtools::install_github(&quot;rstudio/blogdown&quot;)    library(blogdown)    install_hugo()    new_site()</code></p>
<p>Just a couple of things to watch out for:</p>
<ul>
<li>After hugo is installed using the <code>R</code> command (or indeed in the CLI), make sure that the installation directory is included in the operating system environment variable path. If it is not, the subsequent script for website deployment will not work (as it calls the <code>hugo</code> command directly). Follow <a href="https://www.schrodinger.com/kb/1842">these</a> to set up the path variable.</li>
<li><code>new_site()</code> function is a wrapper for <code>hugo</code> command that generates the website files, it also includes theme downloading by default. This problem could be unique to me, but there were a few times the function downloaded the theme package and named the folder incorrectly (appending <code>-master</code> at the end at random), which causes the subsequent steps of the function to fail to find the theme. The solution is simply, clear the folders and run the function again! (And unsurprisingly running the function <code>install_theme()</code> can also have this issue, as it is called inside <code>new_site()</code>, but this doesn’t affect any automated process so is easy to rectify.)</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>As <a href="https://github.com/Hjdskes/hjdskes.github.io/pull/1">confirmed with Jente</a>, <a href="https://hjdskes.github.io/blog/update-deploying-hugo-on-personal-gh-pages/"><code>setup.sh</code></a> needs a modification: add <code>add</code> to the final line between <code>worktree</code> and <code>-B</code>. So the complete script is:</li>
</ol>
<p>```shell #!/usr/bin/env bash</p>
<p># This script does the required work to set up your personal GitHub Pages # repository for deployment using Hugo. Run this script only once – when the # setup has been done, run the <code>deploy.sh</code> script to deploy changes and update # your website. See # <a href="https://hjdskes.github.io/blog/update-deploying-hugo-on-personal-github-pages/" class="uri">https://hjdskes.github.io/blog/update-deploying-hugo-on-personal-github-pages/</a> # for more information.</p>
<p># Further to Jente’s original script, ‘add’ was added to the final line between ‘worktree’ and ‘-B’ - <a href="https://xinye1.github.io/blog/" class="uri">https://xinye1.github.io/blog/</a></p>
<p># Name of the branch containing the Hugo source files. SOURCE=hugo</p>
<p>msg() { printf “33[1;32m :: %s33[0m” “$1” }</p>
<p>msg “Adding the `public` folder to .gitignore” echo “public” &gt;&gt; .gitignore</p>
<p>msg “Deleting the `master` branch” git branch -D master git push origin –delete master</p>
<p>msg “Creating an empty, orphaned `master` branch” git checkout –orphan master git reset –hard git commit –allow-empty -m “Initial commit on master branch” git push origin master git checkout $SOURCE</p>
<p>msg “Adding the master branch into the `public` folder” rm -rf public git worktree add -B master public origin/master ``` 5. To-do: customise the theme to include syntax highlighting</p>

    </section>


  <footer class="post-footer">


    

    





<section class="author">
  <h4><a href="/"></a></h4>
  
  <p>Read <a href="/">more posts</a> by this author.</p>
  
  <div class="author-meta">
    
    
  </div>
</section>



    
<section class="share">
  <h4>Share this blog</h4>
  <a class="icon-twitter" style="font-size: 1.4em" href="https://twitter.com/share?text=Blogging%20with%20Github%20and%20Hugo&nbsp;-&nbsp;Xinye%20Fiddles&amp;url=%2fblog%2fpost-title%2f"
      onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
      <span class="hidden">Twitter</span>
  </a>
  <a class="icon-facebook" style="font-size: 1.4em" href="https://www.facebook.com/sharer/sharer.php?u=%2fblog%2fpost-title%2f"
      onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
      <span class="hidden">Facebook</span>
  </a>
  <a class="icon-pinterest" style="font-size: 1.4em" href="http://pinterest.com/pin/create/button/?url=%2fblog%2fpost-title%2f&amp;description=Blogging%20with%20Github%20and%20Hugo"
      onclick="window.open(this.href, 'pinterest-share','width=580,height=296');return false;">
      <span class="hidden">Pinterest</span>
  </a>
  <a class="icon-google-plus" style="font-size: 1.4em" href="https://plus.google.com/share?url=%2fblog%2fpost-title%2f"
     onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
      <span class="hidden">Google+</span>
  </a>
</section>



    

<div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'xinye';
  var disqus_url = '\/blog\/post-title\/';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>




  </footer>
</article>

</main>
    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">Xinye Fiddles</a> All rghts reserved, Xinye Li 2017</section>
        
        <section class="poweredby">Proudly generated by <a class="icon-hugo" href="http://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/vjeantet/hugo-theme-casper">Casper</a> theme</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="/js/jquery.js"></script>
    <script type="text/javascript" src="/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/js/index.js"></script>
    
</body>
</html>

